<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="description" content="ë¸”ë£¨ì•„ì¹´ì´ë¸Œ ë¦¬ì„¸ê³„ íŒë§¤">
<meta name="keywords" content="ë¸”ë£¨ì•„ì¹´ì´ë¸Œ, ë¸”ë£¨ì•„ì¹´, ë¸”ë£¨ ì•„ì¹´ì´ë¸Œ, ë¸”ë£¨ ì•„ì¹´, ë¦¬ì„¸ê³„, ê³„ì •, ë¸”ë£¨ ì•„ì¹´ì´ë¸Œ ê³„ì •, ë¸”ë£¨ ì•„ì¹´ ê³„ì •, ë¦¬ì„¸ë§ˆë¼, ë¦¬ì„¸ê³„ì •, ë¦¬ì„¸ ê³„ì •, í•œì„¯, í•œêµ­ì„œë²„, ë¸”ë£¨ì•„ì¹´ì±„ë„, ë¸”ë£¨ì•„ì¹´ê°¤, ë¸”ë£¨ì•„ì¹´ì±ˆ, ë¸”ë£¨ì•„ì¹´ë¦¬ì„¸, ë¸”ë£¨ì•„ì¹´ë¦¬ì„¸ê³„, ëª°ë£¨ ë¦¬ì„¸, ëª°ë£¨ ë¦¬ì„¸ê³„">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë¸”ë£¨ì•„ì¹´ì´ë¸Œ ë¦¬ì„¸ê³„ íŒë§¤</title>
<style>
body {
    font-family: 'Pretendard', sans-serif;
    background: #e8f5e9;
    text-align: center;
    margin: 20px;
}
#characters {
    display: grid;
    grid-template-columns: repeat(15, 100px);
    gap: 15px;
    justify-content: center;
    margin-bottom: 20px;
}
.character-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100px;
    padding: 5px;
    border-radius: 10px;
    background: #f9f9f9;
    transition: all 0.3s ease;
}
.character-card img {
    width: 80px;
    height: 80px;
    border-radius: 10px;
    border: 3px solid gray;
    transition: all 0.3s ease;
    cursor: pointer;
}
.character-card:hover {
    transform: scale(1.05);
    background: #eef7ff;
}
.character-card:hover img {
    border-color: #3399ff;
}
.character-name {
    margin-top: 5px;
    font-size: 14px;
    font-weight: bold;
    color: #333;
}
.character-feature {
    font-size: 12px;
    color: #ff5656;
}
.character-card.selected {
    background: #dff0ff;
}
.character-card img.selected {
    border-color: green;
}
#chatButton {
    display: inline-block;
    padding: 12px 20px;
    background-color: #FFEB00;
    color: #000;
    font-weight: bold;
    border-radius: 8px;
    text-decoration: none;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
    margin-top: 20px;
    transition: all 0.3s ease;
}
.chat-btn.fixed {
    position: fixed;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 999;
}
.update-date {
      position: absolute;
      top: 10px;
      right: 10px;
      color: red;
      font-weight: bold;
      font-size: 16px;
      background-color: #fff7f7;
      padding: 6px 10px;
      border: 1px solid #ffcccc;
      border-radius: 6px;
      z-index: 1000;
    }
    .intro {
      margin-top: 60px;
      font-size: 17px;
      line-height: 1.6;
      color: #333;
    }
#selected-info {
    margin-bottom: 15px;
}
#selected-list img {
    width: 40px;
    height: 40px;
    margin: 3px;
    border-radius: 5px;
    border: 2px solid #aaa;
}
#spinner {
    display: none;
    margin-top: 20px;
    font-size: 18px;
    color: #555;
}
#result {
    max-width: 1400px;
    margin: 30px auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.account-card {
    width: 100%;
    background: #fff;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.account-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    font-size: 16px;
    justify-content: flex-start;
}
.copy-btn {
    padding: 5px 10px;
    background: #4caf50;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
}
.account-price {
    font-weight: bold;
    color: #1b85db;
    margin-left: 10px;
}
.character-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: flex-start;
}
.result-character-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 80px;
}
.result-character-card img {
    width: 80px;
    height: 80px;
    border-radius: 10px;
    border: 3px solid gray;
}
@media (max-width: 768px) {
    #characters {
        grid-template-columns: repeat(5, 100px);
    }
}
</style>
</head>
<body>

<div class="update-date">ğŸ—“ï¸ ëª©ë¡ ì—…ë°ì´íŠ¸ : 2025ë…„ 4ì›” 22ì¼</div>

<div class="intro">
ì•ˆë…•í•˜ì„¸ìš”!<br>
ë¸”ë£¨ì•„ì¹´ì´ë¸Œ í•œêµ­ì„œë²„ ë¦¬ì„¸ê³„ë¥¼ íŒë§¤í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br>
ì§ì ‘ ë§Œë“¤ì–´ ì¶œì„ì²´í¬, ë½‘ê¸°, 1-1ì†Œíƒ•ì„ ì§„í–‰í•œ ê³„ì •ì…ë‹ˆë‹¤.<br>
ê²€ìƒ‰ë˜ëŠ” ê³„ì •ëª©ë¡ì€ <strong>ì£¼ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸</strong>ë©ë‹ˆë‹¤.<br>
<span id="chatNotice">ìƒë‹´ì€ <strong>ì˜¤í”ˆì¹´í†¡</strong>ìœ¼ë¡œ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</span>
</div>

<a href="https://open.kakao.com/o/sUiS9iEe" target="_blank" id="chatButton" class="chat-btn">ğŸ›‹ 1:1 ìƒë‹´ ë°”ë¡œê°€ê¸°</a>

<h2>ìºë¦­í„° ì„ íƒ í›„ ê³„ì • ì°¾ê¸°</h2>

<div id="selected-info">
    ì„ íƒí•œ ìºë¦­í„°: <span id="selected-count">0</span>ê°œ
    <button onclick="clearSelection()" style="margin-left:10px;">ì„ íƒ ì´ˆê¸°í™”</button>
</div>
<div id="selected-list"></div>

<div style="margin:20px 0;">
    ê°€ê²©:
    <input id="minPrice" type="number" min="1" max="99" value="1" style="width:60px;"> ~
    <input id="maxPrice" type="number" min="1" max="99" value="99" style="width:60px;"> ë§Œì›
</div>

<button onclick="searchAccounts()" style="padding:10px 20px; font-size:16px;">ê³„ì •ì°¾ê¸°</button>
<div id="spinner">ğŸ”„ ë¡œë”© ì¤‘...</div>

<div id="characters"></div>
<div id="result"></div>

<script>
window.onload = function() {
    const urlParams = new URLSearchParams(window.location.search);
    const chatParam = urlParams.get('chat');
    if (chatParam === 'off') {
        const chatButton = document.getElementById('chatButton');
        if (chatButton) chatButton.style.display = 'none';

        const chatNotice = document.getElementById('chatNotice');
        if (chatNotice) chatNotice.style.display = 'none';
    }
    drawCharacters();
    searchAccounts();
};

const characterData = [
            { name: 'ìˆ˜ì‹œë…¸', grade: '0í‹°ì–´', feature: 'FES' },
            { name: 'ë¯¸ì¹´', grade: '0í‹°ì–´', feature: 'FES' },
            { name: 'ìˆ˜ë‚˜ì½”', grade: '0í‹°ì–´', feature: 'FES' },
            { name: 'ë“œíˆë‚˜', grade: '0í‹°ì–´', feature: 'FES' },
            { name: 'ì„ì‹œë…¸', grade: '0í‹°ì–´', feature: 'FES' },
            { name: 'ì¿ ë¡œì½”', grade: '0í‹°ì–´', feature: 'FES' },
            { name: 'í‚¤ì‚¬í‚¤', grade: '0í‹°ì–´', feature: '' },
            { name: 'ì•„ì½”', grade: '0í‹°ì–´', feature: '' },
            { name: 'íˆë§ˆë¦¬', grade: '0í‹°ì–´', feature: '' },
            { name: 'ë‰´ìš”ì½”', grade: '0í‹°ì–´', feature: '' },
            { name: 'ìº í•˜ë ˆ', grade: '0í‹°ì–´', feature: '' },
            { name: 'ì™€ì¹´ëª¨', grade: '0.5í‹°ì–´', feature: 'FES' },
            { name: 'ìš´ìœ ì¹´', grade: '0.5í‹°ì–´', feature: 'í•œì •' },
            { name: 'ë‰´ìš°ì¹´', grade: '0.5í‹°ì–´', feature: 'í•œì •' },
            { name: 'ì´ë¡œí•˜', grade: '0.5í‹°ì–´', feature: '' },
            { name: 'ì²´ë¦¬ë…¸', grade: '0.5í‹°ì–´', feature: '' },
            { name: 'ìŠŒ', grade: '0.5í‹°ì–´', feature: '' },
            { name: 'ìš°ì´', grade: '0.5í‹°ì–´', feature: '' },
            { name: 'ì½”ì½”ë‚˜', grade: '0.5í‹°ì–´', feature: '' },
            { name: 'ìˆ˜ë¡œì½”', grade: '0.5í‹°ì–´', feature: '' },
            { name: 'ë“œì•„ë£¨', grade: '0.5í‹°ì–´', feature: '' },
            { name: 'ë‰´ì¸ í‚¤', grade: '1í‹°ì–´', feature: 'í•œì •' },
            { name: 'ìˆ˜ì¦ˆë‚˜', grade: '1í‹°ì–´', feature: 'í•œì •' },
            { name: 'ìˆ˜ìš°ì´', grade: '1í‹°ì–´', feature: 'í•œì •' },
            { name: 'ë§ˆì½”í† ', grade: '1í‹°ì–´', feature: 'í•œì •' },
            { name: 'ë“œì•„ì½”', grade: '1í‹°ì–´', feature: 'í•œì •' },
            { name: 'ë‚˜ê¸°ì‚¬', grade: '1í‹°ì–´', feature: 'í•œì •' },
            { name: 'ì•„ë§ˆë¦¬', grade: '1í‹°ì–´', feature: 'í•œì •' },
            { name: 'ì˜¨ë„ì¹´', grade: '1í‹°ì–´', feature: '' },
            { name: 'ì½”í•˜ë£¨', grade: '1í‹°ì–´', feature: '' },
            { name: 'ì´ì˜¤ë¦¬', grade: '1í‹°ì–´', feature: '' },
            { name: 'íˆë¹„í‚¤', grade: '1í‹°ì–´', feature: '' },
            { name: 'ë©”ë¦¬ìŠ¤', grade: '1í‹°ì–´', feature: '' },
            { name: 'ìˆ˜ì•¼ì½”', grade: '1í‹°ì–´', feature: '' },
            { name: 'ìˆ˜ì‚¬í‚¤', grade: '1í‹°ì–´', feature: '' },
            { name: 'ìˆ˜ì¦ˆì‚¬', grade: '1í‹°ì–´', feature: '' },
            { name: 'ìš´ë§ˆë¦¬', grade: '1í‹°ì–´', feature: '' },
            { name: 'ë‰´ë£¨ë‚˜', grade: '1í‹°ì–´', feature: '' },
            { name: 'ë‰´ì•„ë£¨', grade: '1í‹°ì–´', feature: '' },
            { name: 'ìˆ˜ë‚˜íƒ€', grade: '1í‹°ì–´', feature: '' },
];

const gradeBorderColors = {
  "0í‹°ì–´": "rgb(255, 0, 255)",
  "0.5í‹°ì–´": "rgb(255, 0, 0)",
  "1í‹°ì–´": "rgb(255, 153, 0)"
};

const accounts = [
  {"price": 8.1, "num": "A1_08241809", "chars": ["ë¯¸ì¹´", "ì²´ë¦¬ë…¸", "ì™€ì¹´ëª¨", "ìˆ˜ì¦ˆë‚˜", "ì•„ì½”", "ìˆ˜ìš°ì´", "ë§ˆì½”í† ", "ì´ì˜¤ë¦¬", "ìˆ˜ì‹œë…¸", "ìˆ˜ë¡œì½”", "ìš´ìœ ì¹´", "íˆë§ˆë¦¬", "ìŠŒ", "ìˆ˜ì‚¬í‚¤", "ìˆ˜ì•¼ì½”"] }
];

let selectedChars = [];

function toggleCharacter(charName, imgElement, wrapperElement) {
    if (selectedChars.includes(charName)) {
        selectedChars = selectedChars.filter(c => c !== charName);
        imgElement.classList.remove('selected');
        wrapperElement.classList.remove('selected');
    } else {
        selectedChars.push(charName);
        imgElement.classList.add('selected');
        wrapperElement.classList.add('selected');
    }
    updateSelectedInfo();
}

function updateSelectedInfo() {
    document.getElementById('selected-count').innerText = selectedChars.length;
    const selectedList = document.getElementById('selected-list');
    selectedList.innerHTML = '';
    selectedChars.forEach(name => {
        const img = document.createElement('img');
        img.src = `/static/images/${name}.png`;
        img.title = name;
        selectedList.appendChild(img);
    });
}

function clearSelection() {
    selectedChars = [];
    drawCharacters();
    updateSelectedInfo();
}

function drawCharacters() {
    const charactersDiv = document.getElementById('characters');
    charactersDiv.innerHTML = '';
    characterData.forEach(c => {
        const wrapper = document.createElement('div');
        wrapper.className = 'character-card';

        const img = document.createElement('img');
        img.src = `/static/images/${c.name}.png`;
        img.style.borderColor = gradeBorderColors[c.grade] || 'gray';
        img.onclick = function() {
            toggleCharacter(c.name, img, wrapper);
        };

        const nameDiv = document.createElement('div');
        nameDiv.className = 'character-name';
        nameDiv.innerText = c.name;

        const featureDiv = document.createElement('div');
        featureDiv.className = 'character-feature';
        featureDiv.innerText = c.feature;

        wrapper.appendChild(img);
        wrapper.appendChild(nameDiv);
        wrapper.appendChild(featureDiv);

        charactersDiv.appendChild(wrapper);
    });
}

function renderAccounts(accountsArray) {
    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = '';

    accountsArray.forEach(acc => {
        const accBox = document.createElement('div');
        accBox.className = 'account-card';

        accBox.innerHTML = `<div class="account-header">
            <button class="copy-btn" onclick="copyAccount('${acc.num}')">ë³µì‚¬</button>
            <span class="account-num">${acc.num}</span>
            <span class="account-price">ê°€ê²©: ${acc.price}ë§Œ</span>
        </div>`;

        const charGrid = document.createElement('div');
        charGrid.className = 'character-list';

        const sortedChars = sortCharactersByPriority(acc.chars);  // âœ… ë¨¼ì € ì •ë ¬

        sortedChars.forEach(name => {
            const wrapper = document.createElement('div');
            wrapper.className = 'result-character-card';

            const img = document.createElement('img');
            img.src = `/static/images/${name}.png`;
            img.style.border = `3px solid ${gradeBorderColors[getGradeByName(name)] || 'gray'}`;  // âœ… í…Œë‘ë¦¬ ìƒ‰ ì ìš©

            const nameDiv = document.createElement('div');
            nameDiv.className = 'character-name';
            nameDiv.innerText = name;

            const featureDiv = document.createElement('div');
            featureDiv.className = 'character-feature';
            featureDiv.innerText = getFeatureByName(name);  // âœ… FES, í•œì • í‘œì‹œ

            wrapper.appendChild(img);
            wrapper.appendChild(nameDiv);
            wrapper.appendChild(featureDiv);  // âœ… íŠ¹ì§•ë„ ì¶”ê°€
            charGrid.appendChild(wrapper);
        });

        accBox.appendChild(charGrid);
        resultDiv.appendChild(accBox);
    });
}

function searchAccounts() {
    const minPrice = parseFloat(document.getElementById('minPrice').value);
    const maxPrice = parseFloat(document.getElementById('maxPrice').value);

    document.getElementById('spinner').style.display = 'block';

    setTimeout(() => {
        document.getElementById('spinner').style.display = 'none';

        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = '';

        const filteredAccounts = accounts.filter(acc => {
            const priceValid = acc.price >= minPrice && acc.price <= maxPrice;
            const charsValid = selectedChars.every(sc => acc.chars.includes(sc));
            return priceValid && charsValid;
        });

        if (filteredAccounts.length === 0) {
            alert('ì¡°ê±´ì— ë§ëŠ” ê³„ì •ì´ ì—†ìŠµë‹ˆë‹¤.');
            return;
        }

        const limitedAccounts = filteredAccounts.slice(0, 100);
        renderAccounts(limitedAccounts);  // âœ… ì´ê±° í•˜ë‚˜ë§Œ!

    }, 300);
}

function copyAccount(accountNum) {
    navigator.clipboard.writeText(accountNum)
    .then(() => alert('ê³„ì •ë²ˆí˜¸ ë³µì‚¬ ì™„ë£Œ!'));
}

const button = document.getElementById("chatButton");
    const buttonOffsetTop = button.offsetTop;

    window.addEventListener("scroll", function () {
      if (window.scrollY >= buttonOffsetTop) {
        button.classList.add("fixed");
      } else {
        button.classList.remove("fixed");
      }
    });

// â˜…â˜…â˜… ìºë¦­í„° ìš°ì„ ìˆœìœ„ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ â˜…â˜…â˜…
const priorityList = [
  'ìˆ˜ì‹œë…¸', 'ë¯¸ì¹´', 'ìˆ˜ë‚˜ì½”', 'ë“œíˆë‚˜', 'ì„ì‹œë…¸', 'ì¿ ë¡œì½”', 'í‚¤ì‚¬í‚¤', 'ì•„ì½”', 'íˆë§ˆë¦¬', 'ë‰´ìš”ì½”', 'ìº í•˜ë ˆ', 'ì™€ì¹´ëª¨',
  'ìš´ìœ ì¹´', 'ë‰´ìš°ì¹´', 'ì´ë¡œí•˜', 'ì²´ë¦¬ë…¸', 'ìŠŒ', 'ìš°ì´', 'ì½”ì½”ë‚˜', 'ìˆ˜ë¡œì½”', 'ë“œì•„ë£¨', 'ë‰´ì¸ í‚¤', 'ìˆ˜ì¦ˆë‚˜', 'ìˆ˜ìš°ì´',
  'ë§ˆì½”í† ', 'ë“œì•„ì½”', 'ë‚˜ê¸°ì‚¬', 'ì•„ë§ˆë¦¬', 'ì˜¨ë„ì¹´', 'ì½”í•˜ë£¨', 'ì´ì˜¤ë¦¬', 'íˆë¹„í‚¤', 'ë©”ë¦¬ìŠ¤', 'ìˆ˜ì•¼ì½”', 'ìˆ˜ì‚¬í‚¤',
  'ìˆ˜ì¦ˆì‚¬', 'ìš´ë§ˆë¦¬', 'ë‰´ë£¨ë‚˜', 'ë‰´ì•„ë£¨', 'ìˆ˜ë‚˜íƒ€'
];

// â˜…â˜…â˜… ê³„ì • ë°ì´í„° ì •ë ¬ í•¨ìˆ˜ ì¶”ê°€ â˜…â˜…â˜…
function sortCharactersByPriority(chars) {
  const priorityMap = {};
  priorityList.forEach((name, idx) => {
    priorityMap[name] = idx;
  });
  return chars.slice().sort((a, b) => {
    return (priorityMap[a] ?? 999) - (priorityMap[b] ?? 999);
  });
}

function getGradeByName(name) {
    const char = characterData.find(c => c.name === name);
    return char ? char.grade : 'ì¼ë°˜';
}

function getFeatureByName(name) {
    const char = characterData.find(c => c.name === name);
    return char ? char.feature : '';
}

function sortCharactersByPriority(chars) {
    const priorityList = [
        'ìˆ˜ì‹œë…¸', 'ë¯¸ì¹´', 'ìˆ˜ë‚˜ì½”', 'ë“œíˆë‚˜', 'ì„ì‹œë…¸', 'ì¿ ë¡œì½”', 'í‚¤ì‚¬í‚¤', 'ì•„ì½”', 'íˆë§ˆë¦¬', 'ë‰´ìš”ì½”', 'ìº í•˜ë ˆ', 'ì™€ì¹´ëª¨',
        'ìš´ìœ ì¹´', 'ë‰´ìš°ì¹´', 'ì´ë¡œí•˜', 'ì²´ë¦¬ë…¸', 'ìŠŒ', 'ìš°ì´', 'ì½”ì½”ë‚˜', 'ìˆ˜ë¡œì½”', 'ë“œì•„ë£¨', 'ë‰´ì¸ í‚¤', 'ìˆ˜ì¦ˆë‚˜', 'ìˆ˜ìš°ì´',
        'ë§ˆì½”í† ', 'ë“œì•„ì½”', 'ë‚˜ê¸°ì‚¬', 'ì•„ë§ˆë¦¬', 'ì˜¨ë„ì¹´', 'ì½”í•˜ë£¨', 'ì´ì˜¤ë¦¬', 'íˆë¹„í‚¤', 'ë©”ë¦¬ìŠ¤', 'ìˆ˜ì•¼ì½”', 'ìˆ˜ì‚¬í‚¤',
        'ìˆ˜ì¦ˆì‚¬', 'ìš´ë§ˆë¦¬', 'ë‰´ë£¨ë‚˜', 'ë‰´ì•„ë£¨', 'ìˆ˜ë‚˜íƒ€'
    ];
    const priority = Object.fromEntries(priorityList.map((name, idx) => [name, idx]));
    return [...chars].sort((a, b) => (priority[a] ?? 999) - (priority[b] ?? 999));
}
    
</script>

</body>
</html>
