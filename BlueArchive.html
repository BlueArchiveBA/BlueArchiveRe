<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="description" content="리세팩토리 : 블루아카이브">
<meta name="keywords" content="리세팩토리, 블루아카이브, 블루아카, 블루 아카이브, 블루 아카, 리세계, 계정, 블루 아카이브 계정, 블루 아카 계정, 리세마라, 리세계정, 리세 계정, 한섯, 한국서버, 블루아카채널, 블루아카갤, 블루아카챈, 블루아카리세, 블루아카리세계, 몰루 리세, 몰루 리세계, 블루아카 리세, 블루아카이브 리세, 몰루 리세, 블루아카이브 채널, 블루아카챈, 블루아카이브챈, 블루아카채널, 블루아카이브 갤러리, 블루아카갤, 블루아카갤러리, 블루아카이브갤">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" sizes="48x48" href="/static/images/favicon.png">
<title>리세팩토리 : 블루아카이브</title>
<style>
body {
    font-family: 'Pretendard', sans-serif;
    background: #e8f4ff;
    text-align: center;
    margin: 20px;
}

#header-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: transparent;
    z-index: 10000;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    padding: 10px;
    flex-wrap: nowrap;
    flex-direction: row;
}

#chatButton {
    padding: 10px 20px;
    background-color: #FFEB00;
    color: #000;
    font-weight: bold;
    border-radius: 8px;
    text-decoration: none;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
    font-size: 15px;
}

.update-date {
    font-size: 14px;
    color: red;
    background: #fff7f7;
    padding: 6px 10px;
    border: 1px solid #ffcccc;
    border-radius: 6px;
    font-weight: bold;
}

.intro {
    margin-top: 80px;
    font-size: 17px;
    line-height: 1.6;
    color: #333;
}

#selected-info {
    margin-bottom: 15px;
}

#selected-list img {
    width: 40px;
    height: 40px;
    margin: 3px;
    border-radius: 5px;
    border: 2px solid #aaa;
}

#spinner {
    display: none;
    margin-top: 20px;
    font-size: 18px;
    color: #555;
}

#result {
    max-width: 1400px;
    margin: 30px auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.account-card {
    width: 100%;
    background: #fff;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.account-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    font-size: 16px;
    justify-content: flex-start;
}

.copy-btn {
    padding: 5px 10px;
    background: #4caf50;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
}

.account-price {
    font-weight: bold;
    color: #1b85db;
    margin-left: 10px;
}

.character-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: flex-start;
}

.result-character-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 60px;
}

.result-character-card img {
    width: 60px;
    height: 60px;
    border-radius: 10px;
    border: 3px solid gray;
}

#pagination {
    display: flex;
    justify-content: center;
    gap: 5px;
    margin: 10px auto;
}

.page-btn {
    padding: 6px 10px;
    background-color: #eee;
    border: 1px solid #ccc;
    border-radius: 4px;
    cursor: pointer;
}

.page-btn.active {
    background-color: #1b85db;
    color: white;
}

.page-dots {
    padding: 6px 10px;
    background-color: transparent;
    border: none;
    cursor: default;
    font-size: 16px;
    color: #999;
}

#summary {
    font-size: 16px;
    font-weight: bold;
    margin-top: 15px;
}

#characters {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 20px;
    align-items: center;
}

.character-row {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 15px;
    justify-content: center;
}

.character-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 80px;
    padding: 4px;
    border-radius: 10px;
    background: #f9f9f9;
    transition: all 0.3s ease;
}

.character-card img {
    width: 60px;
    height: 60px;
    border-radius: 10px;
    border: 3px solid gray;
    transition: all 0.3s ease;
    cursor: pointer;
}

.character-card:hover {
    transform: scale(1.05);
    background: #eef7ff;
}

.character-card:hover img {
    border-color: #3399ff;
}

.character-name {
    margin-top: 5px;
    font-size: 14px;
    font-weight: bold;
    color: #333;
}

.character-feature {
    font-size: 12px;
    color: #ff5656;
}

.character-card.selected {
    background: #cfe9ff;
}

.character-card img.selected {
    border-color: green;
}

.main-notice {
  max-width: 820px;
  margin: 18px auto 10px;
  padding: 12px 14px;
  background: #fff6f6;
  border: 1px solid #ffd1d1;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.5;
  color: #333;
}
.main-notice strong {
  color: #d60000;
}
.main-notice a {
  color: #1b85db;
  font-weight: 600;
  text-decoration: underline;
}

.update-notice {
  max-width: 820px;
  margin: 10px auto 0;
  padding: 12px 14px;
  background: #f3fff8;
  border: 1px solid #beffe4;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.5;
  color: #234;
}
.update-notice strong {
  color: #1b85db;
}
.update-notice .tag {
  display: inline-block;
  margin-right: 6px;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(27,133,219,0.12);
  color: #1b85db;
  font-weight: 700;
  font-size: 12px;
}

/* 모바일 대응 */
@media (max-width: 768px) {
  body {
    margin: 10px;
  }

  #header-bar {
    flex-direction: column;
    align-items: center;
    gap: 5px;
  }

  .update-date {
    order: 0;
    font-size: 13px;
    padding: 4px 6px;
    text-align: center;
  }

  #chatButton {
    order: 1;
    font-size: 14px;
    padding: 10px 20px;
  }

  #characters {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 10px;
  }

  .character-card {
    width: 70px;
    padding: 2px;
  }

  .character-card img {
    width: 52px;
    height: 52px;
  }

  .character-name {
    font-size: 12px;
  }

  .character-feature {
    font-size: 11px;
  }

  .account-card {
    padding: 10px;
  }

  .result-character-card {
    width: 52px;
  }

  .result-character-card img {
    width: 52px;
    height: 52px;
  }

  .intro {
    font-size: 15px;
    margin-top: 30px;
  }
}

#quick-nav {
  margin: 30px auto 10px;
  display: flex;
  gap: 14px;
  justify-content: center;
  flex-wrap: wrap;
  max-width: 560px;
}

.quick-btn {
  flex: 1 1 200px;
  padding: 12px 18px;
  background-color: #ffffff;
  color: #1b85db;
  font-weight: 600;
  border-radius: 10px;
  text-decoration: none;
  box-shadow: 2px 2px 5px rgba(0,0,0,0.12);
  font-size: 16px;
  transition: background 0.2s ease;
}

.quick-btn:hover { background-color: #f0f8ff; }

@media (max-width: 600px) {
  .quick-btn {
    flex: 1 1 100%;
    font-size: 15px;
  }
}

</style>
</head>
<body>

<div id="header-bar">
    <div class="update-date">📅 목록 업데이트 : 2025년 12월 23일</div>
</div>
      
<main style="margin-top: 100px;"></main>

<h1 class="page-title">
    리세팩토리
</h1>

<h2 class="page-title">
    블루아카이브 한국서버 리세계정&nbsp;판매
</h2>

<div style="display:flex; justify-content:center; align-items:center; margin-top:24px; margin-bottom:20px;">
    <img src="/static/images/쿠폰.png" alt="Blue Archive Illustration" style="max-width:660px; width:95vw; border-radius:18px; box-shadow:0 6px 32px rgba(0,0,0,0.08);" />
</div>

<div class="intro">
    안녕하세요!<br>
    블루아카이브 <strong>한국서버</strong> 리세계를 판매하고 있습니다.<br>
    직접 만들어 출석체크, 뽑기, 1-1소탕을 진행한 <strong>국산계정</strong>입니다.<br>
    캐릭획득순서, 가이드미션, 1-1클리어, 이벤트다시보기 <strong>모든 인증 가능</strong>합니다!<br>
    상담은 <strong>아이디팜 판매자와 실시간 채팅</strong>으로 부탁드립니다.<br><br>
    <strong style="color:rgb(255, 145, 0);">※ 계정구매 시 쿠폰 발급 이벤트 진행중! (구매금액의 15% 상당)</strong><br><br>
    <strong style="color:red;">※ 늦은 밤이나 새벽시간대 답변이 없을 수 있습니다. 일어나는 즉시 답변드리겠습니다.</strong>
    <div class="main-notice">
        ⚠️ <strong>[중요]</strong> 계정 연동 전 <strong>절대 로그인하지 마세요.</strong><br>
        최초 접속 시 자동 연동되어 이후 연동이 불가능할 수 있습니다.<br>
        자세한 내용은 <a href="/guide/trade.html" target="_blank">거래 가이드</a>를 참고해 주세요.
    </div>
    <div class="update-notice">
        <span class="tag">📌 페스 업데이트 (12.23 ~ 26)</span><br>
        <strong>페스 뽑기 진행 중 (수미카·수기사·드히나)</strong><br>
        계정 목록은 <strong>순차적으로 갱신</strong>됩니다.
    </div>       
</div>

<div id="quick-nav">
    <a href="/guide/trade.html" target="_blank" rel="noopener" class="quick-btn">
      💡 거래 가이드
    </a>
    <a href="/guide/faq.html"  target="_blank" rel="noopener" class="quick-btn">
      ❓ FAQ
    </a>
    <a href="/guide/coupon-guide.html"  target="_blank" rel="noopener" class="quick-btn">
      🎁 쿠폰 가이드
    </a>
</div>  

<h2>학생 선택 후 계정 찾기</h2>

<div id="characters"></div>

<div style="margin:12px 0;">
    <button id="detailSearchBtn" style="background:#adadad; color:white; padding:7px 28px; border:none; border-radius:8px; font-size:18px;">기타학생보기</button>
</div>
  

<div id="selected-info">
    선택한 학생: <span id="selected-count">0</span>개
    <button onclick="clearSelection()" style="margin-left:10px;">선택 초기화</button>
</div>
<div id="selected-list"></div>

<div style="margin:20px 0;">
    <strong style="color:red;">가격:
    <input id="minPrice" type="number" min="1" max="99" value="1" style="width:60px;"> ~
    <input id="maxPrice" type="number" min="1" max="99" value="99" style="width:60px;"> 만원</strong>
</div>

<div style="margin:10px 0;">
    정렬순서:
    <select id="sortOrder" style="margin-left:10px;">
      <option value="desc">가격 높은순</option>
      <option value="asc">가격 낮은순</option>
    </select>
</div>

<div style="margin-bottom:18px;">
    <button onclick="searchAccounts()" style="background:#1b85db; color:white; padding:7px 28px; border:none; border-radius:8px; font-size:18px; font-weight: bold;">🔍 계정찾기</button>
</div>
  
<div id="spinner">🔄 로딩 중...</div>

<div id="detailModal" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(30,40,60,0.18); z-index:20000; justify-content:center; align-items:flex-start;">
    <div style="background:#fff; border-radius:14px; max-width:900px; width:96vw; margin:70px auto 0; padding:30px 20px 18px; box-shadow:0 6px 40px rgba(0,0,0,0.16); position:relative;">
      <button onclick="closeDetailModal()" style="position:absolute; right:16px; top:13px; font-size:20px; background:none; border:none; cursor:pointer;">×</button>
      <h3 style="font-size:19px; margin:0 0 15px 0; color:#1b85db; font-weight:800;">기타 학생 상세검색</h3>      
      <div style="max-height:54vh; overflow-y:auto; margin-bottom:22px;">
        <div id="detailCharWrap" style="margin:14px 0 10px 0; display:flex; flex-wrap:wrap; gap:10px; justify-content:flex-start;"></div>
        <div id="otherCharWrap" style="margin:16px 0 5px 0; display:flex; flex-wrap:wrap; gap:10px; justify-content:flex-start;"></div>
      </div>
      <div style="width:100%; text-align:center; position:sticky; bottom:0; background:#fff; padding-top:8px; padding-bottom:2px;">
        <button onclick="closeDetailModal()" style="background:#1b85db; color:white; padding:8px 36px; border:none; border-radius:8px; font-size:16px; font-weight:bold;">선택 완료</button>
      </div>
    </div>
</div>
    

<div id="summary"></div>
<div id="result"></div>
<div id="pagination"></div>

<div id="accountModal" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(30,40,60,0.44); z-index:99999; justify-content:center; align-items:center;">
    <div style="background:#fff; border-radius:18px; max-width:900px; width:96vw; padding:26px 18px 16px; box-shadow:0 6px 40px rgba(0,0,0,0.2); position:relative;">
      <button onclick="closeAccountModal()" style="position:absolute; right:14px; top:14px; font-size:20px; background:none; border:none; cursor:pointer;">×</button>
      <div style="display:flex; align-items:center; gap:12px; margin-bottom:14px;">
        <h3 style="margin:0; font-size:20px; color:#1b85db; font-weight:800;" id="modalAccountNum">계정 상세</h3>
        <span style="color:#1b85db; font-size:16px; font-weight:700;" id="modalAccountPrice"></span>
        <span id="modalAccountCount" style="margin-left:8px; color:#34495e; font-size:15px; font-weight:600;"></span>
        <button id="modalCopyBtn" class="copy-btn" style="padding:4px 10px; margin-left:auto;">복사</button>
      </div>
      <div id="modalAccountChars"
        style="display:flex; flex-wrap:wrap; gap:13px; justify-content:center; align-items:flex-start; margin-top:6px; max-height:54vh; overflow-y:auto;">
      </div>
    </div>
</div>
  

<script>

let currentPage = 1;
const pageSize = 20;
let currentFilteredAccounts = [];

window.onload = function() {
    const urlParams = new URLSearchParams(window.location.search);    
    drawCharacters();
    searchAccounts(false);
};

const characterData = [
            { name: '수시노', grade: '0티어', feature: 'FES' },
            { name: '미카', grade: '0티어', feature: 'FES' },
            { name: '수나코', grade: '0티어', feature: 'FES' },
            { name: '드히나', grade: '0티어', feature: 'FES' },
            { name: '임시노', grade: '0티어', feature: 'FES' },
            { name: '쿠로코', grade: '0티어', feature: 'FES' },
            { name: '리오', grade: '0티어', feature: 'FES' },
            { name: '교네루', grade: '0티어', feature: 'FES' },
            { name: '수미카', grade: '0티어', feature: 'FES' },
            { name: '수기사', grade: '0티어', feature: 'FES' },
            { name: '키사키', grade: '0티어', feature: '' },
            { name: '수로코', grade: '0티어', feature: '' },
            { name: '와카모', grade: '0.5티어', feature: 'FES' },
            { name: '뉴우카', grade: '0.5티어', feature: '한정' },
            { name: '아마리', grade: '0.5티어', feature: '한정' },
            { name: '세이아', grade: '0.5티어', feature: '한정' },
            { name: '수이아', grade: '0.5티어', feature: '한정' },
            { name: '캠하레', grade: '0.5티어', feature: '' },
            { name: '드아루', grade: '0.5티어', feature: '' },
            { name: '코코나', grade: '0.5티어', feature: '' },
            { name: '운유카', grade: '1티어', feature: '한정' },
            { name: '히카리', grade: '1티어', feature: '한정' },
            { name: '노조미', grade: '1티어', feature: '한정' },
            { name: '나기사', grade: '1티어', feature: '한정' },
            { name: '뉴츠키', grade: '1티어', feature: '한정' },          
            { name: '아코', grade: '1티어', feature: '' },
            { name: '히마리', grade: '1티어', feature: '' },
            { name: '뉴요코', grade: '1티어', feature: '' },
            { name: '우이', grade: '1티어', feature: '' },
            { name: '슌', grade: '1티어', feature: '' },
            { name: '체리노', grade: '1티어', feature: '' },
            { name: '히나타', grade: '1티어', feature: '' },
            { name: '수즈나', grade: '2티어', feature: '한정' },
            { name: '뉴루나', grade: '2티어', feature: '한정' },
            { name: '드아코', grade: '2티어', feature: '한정' },
            { name: '수우이', grade: '2티어', feature: '한정' },
            { name: '수요리', grade: '2티어', feature: '한정' },
];

const gradeBorderColors = {
  "0티어": "rgb(255, 0, 255)",
  "0.5티어": "rgb(255, 0, 0)",
  "1티어": "rgb(255, 153, 0)",
  "2티어": "rgb(153, 0, 255)"
};

const accounts = [
  {"price": 26.9, "num": "A1_08241809", "chars": ["미모리", "수모리", "와카모", "수카모", "우미카", "수카리", "이즈나", "수즈나", "츠쿠요", "수키쿄", "미노리", "시구레", "온구레", "체리노", "나츠", "레이사", "마시로", "미네", "미카", "사쿠라코", "세이아", "수이아", "아즈사", "수우이", "이치카", "츠루기", "카즈사", "히나타", "수후미", "마코토", "메구", "사츠키", "사세나", "드아루", "아코", "이로하", "이오리", "이즈미", "온나츠", "드요코", "하루나", "체루나", "뉴루카", "히나", "드히나", "수노미", "뉴리카", "수리카", "라로코", "수로코", "호시노", "수시노", "리오", "마키", "아리스", "바스나", "운유카", "유즈", "치히로", "히마리", "미사키", "사오리", "싸오리", "아츠코", "히요리", "루미", "사야", "사사야", "슌", "어린슌", "코코나", "수부키", "모에", "수모에", "수야코", "미유", "사키", "수사키", "노조미", "히카리"] },
  {"price": 37.4, "num": "A1_08272034", "chars": ["와카모", "우미카", "이즈나", "수즈나", "온도카", "메루", "체리노", "온리노", "아마리", "마시로", "미네", "미카", "사쿠라코", "아즈사", "우이", "수우이", "츠루기", "카즈사", "수나코", "히후미", "마코토", "뉴츠키", "세나", "아루", "드아루", "뉴카리", "아코", "드아코", "이로하", "이오리", "온나츠", "하루나", "히나", "드히나", "수리카", "시로코", "수로코", "호시노", "임시노", "수시노", "네루", "리오", "마키", "미도리", "스미레", "메리스", "바스나", "에이미", "응타하", "파유카", "캠하레", "히마리", "히비키", "미사키", "사오리", "드오리", "루미", "미나", "사야", "사사야", "슌", "어린슌", "코코나", "키사키", "미야코", "미유", "사키", "노조미"] },
  {"price": 12.7, "num": "A1_09092212", "chars": ["나구사", "니야", "미모리", "와카모", "수카모", "유카리", "이즈나", "가바키", "카호", "온도카", "마리나", "메루", "미노리", "체리노", "치모에", "나기사", "수시로", "세이아", "수즈사", "츠루기", "카즈사", "코하루", "수나코", "히나타", "히후미", "수후미", "마코토", "뉴츠키", "세나", "아루", "아코", "온나츠", "치아키", "카스미", "뉴요코", "키라라", "하루나", "뉴루카", "히나", "수노미", "시로코", "라로코", "수로코", "호시노", "수시노", "네루", "리오", "미도리", "아리스", "메리스", "바스나", "에이미", "응타하", "운유카", "캠타마", "바토키", "캠하레", "히비키", "미사키", "싸오리", "레이죠", "슌", "어린슌", "모에", "사키"] },
  {"price": 25.3, "num": "A1_09092333", "chars": ["렌게", "미모리", "수모리", "와카모", "수카모", "유카리", "이즈나", "가바키", "츠쿠요", "카에데", "키쿄", "수키쿄", "가피나", "온도카", "마리나", "시구레", "온구레", "체리노", "수나기", "레이사", "마시로", "수시로", "수미카", "세이아", "수이아", "아즈사", "우이", "이치카", "코하루", "클나에", "수나코", "히나타", "수후미", "뉴츠키", "사츠키", "아루", "아코", "이즈미", "하루나", "체루나", "뉴루카", "뉴우카", "히나", "드히나", "시로코", "라로코", "호시노", "임시노", "수시노", "네루", "노아", "마키", "미도리", "스미레", "아리스", "바카네", "에이미", "응타하", "유즈", "치히로", "카린", "코유키", "캠타마", "캠하레", "히마리", "히비키", "미사키", "사오리", "레이죠", "루미", "사야", "사사야", "어린슌", "코코나", "미야코", "미유", "사키", "수사키"] },
  {"price": 17.2, "num": "A2_08061913", "chars": ["와카모", "수카리", "이즈나", "수즈나", "츠쿠요", "온도카", "온리노", "나츠", "밴나츠", "마시로", "미네", "미카", "클리나", "세이아", "아즈사", "수즈사", "카즈사", "코하루", "클나에", "수나코", "히나타", "수후미", "마코토", "메구", "뉴츠키", "세나", "뉴카리", "이로하", "이오리", "뉴즈미", "치아키", "드요코", "하루나", "뉴루카", "히나", "드히나", "수노미", "수리카", "시로코", "호시노", "임시노", "수시노", "네루", "노아", "레이", "리오", "마키", "스미레", "아리스", "바스나", "에이미", "수이미", "운유카", "코유키", "응토리", "바토키", "히마리", "히비키", "레이죠", "미나", "사야", "사사야", "슌", "코코나", "칸나", "수부키", "모에", "수모에", "미야코", "사키", "노조미"] },
  {"price": 33.0, "num": "A2_08281733", "chars": ["니야", "렌게", "와카모", "수카모", "유카리", "이즈나", "수즈나", "가바키", "카호", "온도카", "마리나", "미노리", "온리노", "레이사", "마시로", "미네", "미카", "세이아", "수즈사", "수우이", "코하루", "수나코", "히나타", "히후미", "마코토", "메구", "뉴츠키", "아코", "이로하", "치아키", "뉴요코", "뉴우카", "히나", "드히나", "수노미", "뉴리카", "시로코", "라로코", "호시노", "임시노", "수시노", "네루", "교네루", "노아", "리오", "메모이", "스미레", "아리스", "바스나", "바카네", "에이미", "응타하", "치히로", "카린", "코유키", "캠타마", "히마리", "미사키", "사오리", "아츠코", "히요리", "미나", "사야", "사사야", "슌", "코코나", "키사키", "모에", "수야코", "사키"] },
  {"price": 13.5, "num": "A3_08061903", "chars": ["니야", "미모리", "수모리", "와카모", "수카모", "이즈나", "가바키", "츠쿠요", "온도카", "시구레", "체리노", "온리노", "마시로", "미카", "수미카", "세이아", "수즈사", "클나에", "수후미", "뉴츠키", "아루", "이로하", "뉴요코", "하루나", "체루나", "뉴우카", "히나", "드히나", "수노미", "뉴리카", "라로코", "수로코", "호시노", "수시노", "네루", "노아", "파노아", "레이", "미도리", "스미레", "아리스", "메리스", "바카네", "에이미", "응타하", "운유카", "파유카", "유즈", "치히로", "코유키", "캠하레", "히비키", "사오리", "싸오리", "아츠코", "히요리", "미나", "사야", "사사야", "슌", "칸나", "수칸나", "모에", "미야코", "미유", "사키"] },
  {"price": 11.6, "num": "A6_09060143", "chars": ["미모리", "와카모", "수카모", "우미카", "유카리", "이즈나", "수즈나", "츠쿠요", "가피나", "마리나", "시구레", "치모에", "수나기", "나츠", "레이사", "마시로", "미네", "수이아", "아즈사", "수즈사", "우이", "츠루기", "수나코", "히후미", "수후미", "마코토", "뉴츠키", "세나", "이오리", "카스미", "뉴요코", "뉴우카", "히나", "드히나", "뉴리카", "라로코", "수시노", "네루", "노아", "미도리", "스미레", "아리스", "메리스", "바카네", "에이미", "유즈", "치히로", "카린", "코유키", "응토리", "캠하레", "히마리", "히비키", "미사키", "히요리", "칸나", "수칸나", "수부키", "모에", "미야코", "사키", "수사키", "히카리"] },
  {"price": 21.0, "num": "A6_09071225", "chars": ["렌게", "미모리", "수모리", "와카모", "수카모", "수즈나", "가바키", "카에데", "온도카", "체리노", "온리노", "나츠", "아마리", "마시로", "미네", "미카", "사쿠라코", "세이아", "아즈사", "츠루기", "수나코", "히후미", "메구", "사츠키", "세나", "아루", "아코", "뉴우카", "드히나", "시로코", "수로코", "임시노", "수시노", "파노아", "마키", "스미레", "바카네", "응타하", "운유카", "유즈", "치히로", "코유키", "캠타마", "응토리", "바토키", "히비키", "미사키", "아츠코", "루미", "슌", "어린슌", "코코나", "수부키", "모에", "미야코", "사키", "수사키"] },
  {"price": 12.9, "num": "A7_09051439", "chars": ["와카모", "수카모", "이즈나", "마리나", "메루", "미노리", "시구레", "온구레", "체리노", "나츠", "밴나츠", "미네", "미카", "사쿠라코", "수이아", "츠루기", "클나에", "수나코", "수후미", "마코토", "뉴츠키", "세나", "드아루", "뉴카리", "이로하", "이오리", "이즈미", "뉴즈미", "드요코", "뉴요코", "하루나", "뉴루카", "히나", "드히나", "수노미", "수리카", "라로코", "수시노", "교네루", "노아", "리오", "마키", "스미레", "아리스", "바스나", "바카네", "유즈", "치히로", "카린", "바토키", "히비키", "드오리", "히요리", "루미", "슌", "어린슌", "모에", "수모에", "미야코", "미유", "사키"] },
  {"price": 22.7, "num": "A7_09061025", "chars": ["미모리", "와카모", "수카모", "우미카", "수즈나", "츠쿠요", "카에데", "마리나", "메루", "미노리", "시구레", "온리노", "수나기", "나츠", "밴나츠", "미네", "미카", "수미카", "클리나", "아즈사", "수즈사", "우이", "수우이", "이치카", "히나타", "히후미", "아루", "아코", "이오리", "이즈미", "키라라", "하루나", "뉴우카", "히나", "드히나", "수노미", "시로코", "수로코", "쿠로코", "호시노", "수시노", "교네루", "노아", "리오", "메모이", "미도리", "스미레", "아리스", "교스나", "바스나", "응타하", "운유카", "유즈", "카린", "코유키", "히비키", "히요리", "루미", "미나", "사야", "사사야", "슌", "칸나", "수칸나", "수부키", "모에", "미야코", "수야코", "미유"] },
  {"price": 16.3, "num": "A8_09042133", "chars": ["미모리", "수모리", "와카모", "수카모", "수즈나", "츠쿠요", "카에데", "카호", "온도카", "마리나", "메루", "미노리", "나기사", "나츠", "레이사", "마시로", "아쿠라코", "세이아", "수이아", "수즈사", "우이", "수우이", "카즈사", "코하루", "클나에", "수나코", "히나타", "히후미", "마코토", "아루", "드아루", "아코", "드아코", "이로하", "이오리", "온나츠", "체루나", "라로코", "호시노", "임시노", "교네루", "파노아", "리오", "마키", "미도리", "아리스", "바스나", "바카네", "에이미", "응타하", "카린", "응토리", "캠하레", "히마리", "히비키", "미사키", "사오리", "아츠코", "히요리", "레이죠", "사야", "사사야", "슌", "어린슌", "수칸나", "수야코", "미유", "수사키"] },
  {"price": 7.8, "num": "A8_09051458", "chars": ["수모리", "와카모", "수카모", "유카리", "카호", "마리나", "온구레", "체리노", "레이사", "마시로", "미카", "아즈사", "수즈사", "우이", "츠루기", "코하루", "클나에", "히나타", "히후미", "수후미", "세나", "아루", "아코", "이로하", "이즈미", "치아키", "카스미", "하루나", "체루나", "히나", "드히나", "뉴리카", "시로코", "라로코", "수로코", "호시노", "임시노", "수시노", "네루", "교네루", "노아", "미도리", "메도리", "스미레", "아리스", "바스나", "에이미", "파유카", "유즈", "카린", "캠하레", "히비키", "미사키", "사오리", "싸오리", "아츠코", "루미", "미나", "사야", "사사야", "슌", "어린슌", "수칸나", "모에", "수야코"] },
  {"price": 19.6, "num": "A8_09051747", "chars": ["렌게", "와카모", "수카모", "이즈나", "수즈나", "츠쿠요", "카에데", "카호", "키쿄", "온도카", "시구레", "체리노", "온리노", "나츠", "밴나츠", "레이사", "미카", "클리나", "세이아", "수우이", "카즈사", "코하루", "클나에", "수나코", "히나타", "히후미", "메구", "사츠키", "세나", "아코", "이오리", "뉴요코", "키라라", "하루나", "뉴루카", "히나", "라로코", "쿠로코", "임시노", "수시노", "노아", "리오", "마키", "메모이", "미도리", "스미레", "아리스", "메리스", "바카네", "에이미", "응타하", "운유카", "유즈", "치히로", "카린", "히비키", "미사키", "히요리", "루미", "슌", "어린슌", "코코나", "미유", "사키", "수사키", "노조미"] },
  {"price": 15.4, "num": "A9_11280142", "chars": ["니야", "미모리", "수모리", "수카모", "이즈나", "수즈나", "츠쿠요", "카에데", "온도카", "마리나", "메루", "체리노", "수나기", "나츠", "마시로", "미카", "수미카", "사쿠라코", "클리나", "수즈사", "츠루기", "코하루", "클나에", "수나코", "히후미", "뉴츠키", "사츠키", "아루", "이즈미", "뉴즈미", "온나츠", "카스미", "키라라", "체루나", "히나", "드히나", "뉴리카", "라로코", "쿠로코", "호시노", "수시노", "네루", "교네루", "노아", "리오", "마키", "메모이", "미도리", "스미레", "메리스", "에이미", "수이미", "응타하", "운유카", "치히로", "코유키", "히마리", "사오리", "싸오리", "슌", "어린슌", "코코나", "수칸나", "미유", "수사키"] },
  {"price": 26.7, "num": "A9_11281310", "chars": ["나구사", "렌게", "와카모", "수카모", "이즈나", "수즈나", "키쿄", "마리나", "메루", "미노리", "마시로", "미네", "미카", "수미카", "수이아", "수즈사", "츠루기", "코하루", "수나코", "히나타", "뉴츠키", "사츠키", "세나", "아루", "드아루", "이로하", "이즈미", "온나츠", "카스미", "뉴우카", "히나", "드히나", "수노미", "뉴리카", "시로코", "수로코", "쿠로코", "호시노", "수시노", "레이", "리오", "마키", "미도리", "스미레", "바스나", "에이미", "수이미", "유즈", "치히로", "카린", "캠하레", "미사키", "싸오리", "루미", "사야", "사사야", "코코나", "수부키", "미야코", "수야코", "미유", "히카리"] },
  {"price": 19.0, "num": "A10_11251818", "chars": ["미모리", "와카모", "우미카", "유카리", "카에데", "시구레", "온리노", "레이사", "운마리", "마시로", "수미카", "사쿠라코", "클리나", "츠루기", "카즈사", "코하루", "클나에", "수나코", "히나타", "히후미", "마코토", "메구", "뉴츠키", "세나", "드아루", "아코", "이로하", "이오리", "이즈미", "온나츠", "뉴요코", "뉴우카", "히나", "드히나", "수노미", "뉴리카", "수로코", "쿠로코", "수시노", "네루", "레이", "리오", "마키", "메모이", "스미레", "아리스", "메리스", "바스나", "응타하", "유즈", "카린", "바토키", "히마리", "히비키", "사오리", "사사야", "슌", "모에", "미야코", "수야코", "미유", "수사키"] },
  {"price": 21.2, "num": "A10_11271610", "chars": ["미모리", "수모리", "와카모", "유카리", "츠쿠요", "카에데", "카호", "마리나", "시구레", "수나기", "아마리", "마시로", "수미카", "수이아", "아즈사", "수즈사", "우이", "수우이", "츠루기", "코하루", "히나타", "히후미", "메구", "뉴츠키", "사츠키", "세나", "아코", "이로하", "이오리", "온나츠", "카스미", "드요코", "체루나", "뉴루카", "드히나", "수노미", "뉴리카", "라로코", "호시노", "수시노", "교네루", "노아", "리오", "미도리", "메리스", "바스나", "응타하", "파유카", "캠하레", "히마리", "히비키", "미사키", "아츠코", "칸나", "수칸나", "수부키", "미야코", "미유", "사키", "노조미"] },
  {"price": 28.7, "num": "B1_12011548", "chars": ["수모리", "와카모", "카호", "키쿄", "온도카", "마리나", "시구레", "체리노", "수나기", "나츠", "마시로", "미네", "세이아", "수이아", "우이", "수우이", "이치카", "츠루기", "코하루", "클나에", "수나코", "히나타", "히후미", "수후미", "뉴츠키", "세나", "뉴카리", "이로하", "이오리", "이즈미", "온나츠", "카스미", "드요코", "뉴요코", "키라라", "하루나", "체루나", "뉴루카", "히나", "수노미", "뉴리카", "시로코", "라로코", "수로코", "호시노", "임시노", "수시노", "네루", "교네루", "노아", "리오", "마키", "메도리", "스미레", "아미레", "아리스", "바카네", "응타하", "운유카", "파유카", "유즈", "치히로", "카린", "바토키", "히비키", "미사키", "사오리", "싸오리", "레이죠", "어린슌", "코코나", "미유", "노조미"] },
  {"price": 24.8, "num": "B1_12012017", "chars": ["나구사", "니야", "렌게", "미모리", "와카모", "수카모", "우미카", "이즈나", "수즈나", "미노리", "체리노", "온리노", "나츠", "레이사", "미카", "사쿠라코", "클리나", "세이아", "수우이", "츠루기", "클나에", "수나코", "수후미", "마코토", "뉴츠키", "세나", "이로하", "이오리", "이즈미", "온나츠", "하루나", "체루나", "뉴우카", "드히나", "뉴리카", "라로코", "쿠로코", "임시노", "수시노", "노아", "마키", "메모이", "교스나", "바스나", "바카네", "에이미", "수이미", "응타하", "유즈", "사오리", "히요리", "미나", "사야", "사사야", "코코나", "키사키", "칸나", "모에", "미유", "노조미", "히카리"] },
  {"price": 12.9, "num": "B2_05182129", "chars": ["미모리", "와카모", "유카리", "수카리", "이즈나", "츠쿠요", "키쿄", "온도카", "체리노", "온리노", "나츠", "밴나츠", "레이사", "미카", "세이아", "우이", "수우이", "츠루기", "코하루", "수나코", "히나타", "수후미", "마코토", "아루", "드아루", "아코", "이로하", "이오리", "뉴즈미", "카스미", "하루나", "체루나", "뉴루카", "뉴우카", "히나", "드히나", "호시노", "노아", "메모이", "아리스", "바스나", "에이미", "유즈", "코유키", "바토키", "캠하레", "히마리", "사오리", "드오리", "싸오리", "아츠코", "사야", "사사야", "어린슌", "코코나", "미야코", "사키", "수사키", "히카리"] },
  {"price": 26.8, "num": "B2_05182249", "chars": ["와카모", "우미카", "수카리", "이즈나", "가바키", "온도카", "치리나", "미노리", "온구레", "나기사", "수나기", "레이사", "마시로", "미카", "수미카", "세이아", "수이아", "카즈사", "코하루", "수후미", "마코토", "메구", "뉴츠키", "세나", "아코", "이오리", "뉴즈미", "온나츠", "카스미", "뉴루카", "뉴우카", "드히나", "뉴리카", "호시노", "수시노", "교네루", "리오", "메모이", "바카네", "수이미", "응타하", "치히로", "캠타마", "히마리", "미사키", "사오리", "싸오리", "아츠코", "히요리", "루미", "미나", "사야", "사사야", "슌", "모에", "수모에", "수사키", "히카리"] },
  {"price": 10.5, "num": "B3_05070613", "chars": ["나구사", "렌게", "와카모", "수카모", "이즈나", "온도카", "미노리", "온리노", "나츠", "미네", "미카", "세이아", "츠루기", "클나에", "수나코", "히후미", "수후미", "마코토", "메구", "뉴츠키", "드아코", "온나츠", "치아키", "하루나", "뉴우카", "수노미", "수시노", "교네루", "리오", "마키", "스미레", "아리스", "메리스", "운유카", "히비키", "사오리", "히요리", "미나", "사야", "슌", "수모에", "수야코", "미유", "사키"] },
  {"price": 11.6, "num": "B4_05261935", "chars": ["수모리", "유카리", "카에데", "카호", "키쿄", "시구레", "온리노", "수나기", "레이사", "아마리", "마시로", "미카", "수미카", "세이아", "츠루기", "코하루", "클나에", "수스미", "히나타", "마코토", "아루", "아코", "이즈미", "치아키", "뉴요코", "드히나", "시로코", "라로코", "수로코", "임시노", "수시노", "노아", "파노아", "미도리", "스미레", "아미레", "메리스", "바스나", "수이미", "유즈", "카린", "코유키", "응토리", "히마리", "히비키", "미사키", "싸오리", "히요리"] },
  {"price": 10.4, "num": "B5_05261257", "chars": ["렌게", "와카모", "수카모", "우미카", "이즈나", "츠쿠요", "카에데", "카호", "키쿄", "체리노", "수나기", "나츠", "아마리", "미네", "사쿠라코", "세이아", "수이아", "수우이", "츠루기", "코하루", "클나에", "수나코", "히나타", "히후미", "메구", "뉴츠키", "아코", "뉴즈미", "온나츠", "카스미", "뉴요코", "키라라", "하루나", "체루나", "드히나", "바스나", "수시노", "에이미", "수이미", "응타하", "유즈", "응토리"] },
  {"price": 10.3, "num": "B6_05261318", "chars": ["미모리", "수모리", "와카모", "수카모", "가바키", "마리나", "시구레", "온리노", "밴나츠", "클리나", "우이", "수우이", "이치카", "츠루기", "카즈사", "코하루", "수후미", "메구", "사세나", "아코", "이로하", "뉴요코", "하루나", "뉴루나", "뉴우카", "드히나", "수노미", "수리카", "라로코", "쿠로코", "수시노", "교네루", "노아", "리오", "마키", "바스나", "바카네", "수이미", "유즈", "캠타마", "응토리", "바토키", "캠하레", "히마리", "히비키", "싸오리", "히요리", "레이죠", "사야", "사사야", "슌", "칸나", "미유", "수사키"] },
  {"price": 9.9, "num": "B6_05261729", "chars": ["니야", "렌게", "와카모", "수카모", "우미카", "키쿄", "가피나", "메루", "미노리", "시구레", "온리노", "나기사", "마시로", "미네", "미카", "사쿠라코", "세이아", "우이", "코하루", "수나코", "수후미", "마코토", "뉴츠키", "사세나", "아루", "드아루", "이로하", "카스미", "하루나", "히나", "드히나", "뉴리카", "라로코", "임시노", "수시노", "노아", "메모이", "미도리", "메리스", "바카네", "에이미", "응타하", "운유카", "코유키", "캠타마", "응토리", "히마리", "히비키", "미사키", "사오리", "루미", "미나", "사사야", "칸나", "수칸나", "모에", "미유", "사키"] },
  {"price": 17.2, "num": "B7_05261936", "chars": ["와카모", "수카모", "유카리", "이즈나", "가바키", "카호", "온도카", "치모에", "레이사", "미네", "미카", "수미카", "사쿠라코", "클리나", "아즈사", "우이", "이치카", "카즈사", "코하루", "클나에", "수나코", "히나타", "수후미", "메구", "뉴츠키", "드아루", "뉴카리", "아코", "이즈미", "온나츠", "드요코", "뉴요코", "체루나", "수노미", "뉴리카", "수리카", "수로코", "쿠로코", "임시노", "노아", "메모이", "미도리", "스미레", "바카네", "에이미", "수이미", "운유카", "치히로", "카린", "코유키", "응토리", "히마리", "미사키", "사오리", "싸오리", "아츠코", "어린슌", "키사키", "칸나", "수부키", "미유", "사키"] },
  {"price": 13.4, "num": "B8_05261717", "chars": ["니야", "와카모", "수카모", "수즈나", "카에데", "카호", "마리나", "메루", "미노리", "시구레", "온구레", "치모에", "레이사", "마시로", "수이아", "아즈사", "우이", "수우이", "카즈사", "클나에", "수나코", "수후미", "마코토", "뉴츠키", "뉴카리", "아코", "이로하", "온나츠", "뉴요코", "히나", "뉴리카", "시로코", "쿠로코", "임시노", "수시노", "네루", "교네루", "파노아", "리오", "스미레", "바스나", "응타하", "캠타마", "바토키", "히마리", "히비키", "미사키", "아츠코", "히요리", "사야", "슌", "어린슌", "사키"] },
  {"price": 20.3, "num": "B8_05262119", "chars": ["수모리", "와카모", "수카모", "우미카", "유카리", "이즈나", "카에데", "카호", "키쿄", "마리나", "치모에", "수나기", "레이사", "아마리", "마시로", "미네", "수미카", "사쿠라코", "클리나", "세이아", "수이아", "우이", "츠루기", "카즈사", "코하루", "클나에", "수나코", "사츠키", "이오리", "뉴즈미", "드요코", "키라라", "뉴우카", "히나", "시로코", "호시노", "수시노", "교네루", "파노아", "레이", "마키", "바카네", "에이미", "코유키", "캠하레", "히마리", "히비키", "미사키", "사오리", "드오리", "싸오리", "히요리", "미나", "사사야", "슌", "어린슌", "코코나", "칸나", "사키"] },
  {"price": 20.1, "num": "B8_05272213", "chars": ["미모리", "와카모", "이즈나", "수즈나", "키쿄", "체리노", "치모에", "나츠", "레이사", "아마리", "마시로", "미카", "수미카", "클리나", "세이아", "우이", "츠루기", "카즈사", "코하루", "클나에", "수나코", "히후미", "수후미", "메구", "사츠키", "세나", "사세나", "아루", "이로하", "이즈미", "온나츠", "카스미", "뉴루카", "드히나", "시로코", "쿠로코", "호시노", "수시노", "네루", "교네루", "파노아", "리오", "메모이", "메리스", "바카네", "바토키", "히마리", "미사키", "사오리", "싸오리", "아츠코", "레이죠", "미나", "슌", "칸나", "수칸나", "미야코", "미유"] },
  {"price": 2.9, "num": "C1_05261950", "chars": ["미모리", "와카모", "수카모", "우미카", "이즈나", "카호", "가피나", "온도카", "레이사", "마시로", "미카", "클리나", "수우이", "이치카", "츠루기", "클나에", "수스미", "히나타", "히후미", "수후미", "아코", "이로하", "이즈미", "아주리", "온나츠", "키라라", "하루나", "히나", "시로코", "라로코", "수로코", "쿠로코", "호시노", "네루", "교네루", "리오", "마키", "메모이", "미도리", "메도리", "메리스", "에이미", "수이미", "유즈", "치히로", "코유키", "히마리", "사오리", "싸오리", "아츠코", "히요리", "사사야", "모에", "미야코", "수사키"] },
  {"price": 28.8, "num": "C3_05270012", "chars": ["와카모", "수카모", "우미카", "가바키", "카에데", "마리나", "메루", "미노리", "시구레", "온구레", "나기사", "수나기", "나츠", "아마리", "미네", "미카", "수미카", "사쿠라코", "세이아", "츠루기", "카즈사", "코하루", "히나타", "마코토", "뉴츠키", "사츠키", "아루", "아코", "이오리", "온나츠", "체루나", "뉴루카", "뉴우카", "드히나", "뉴리카", "라로코", "쿠로코", "임시노", "수시노", "네루", "파노아", "리오", "미도리", "스미레", "메리스", "바카네", "코유키", "히마리", "히비키", "미사키", "루미", "미나", "어린슌", "수부키", "미야코", "사키"] },
  {"price": 29.8, "num": "C3_05270337", "chars": ["렌게", "와카모", "유카리", "수카리", "가바키", "츠쿠요", "카에데", "카호", "메루", "온리노", "나츠", "아마리", "마시로", "미네", "미카", "클리나", "세이아", "수이아", "아즈사", "카즈사", "코하루", "클나에", "수나코", "히나타", "히후미", "마코토", "메구", "아루", "아코", "이로하", "이오리", "치아키", "뉴요코", "키라라", "뉴우카", "드히나", "라로코", "쿠로코", "임시노", "수시노", "교네루", "노아", "리오", "마키", "미도리", "메리스", "바카네", "수이미", "응타하", "파유카", "유즈", "치히로", "카린", "히마리", "히비키", "미사키", "싸오리", "슌", "어린슌", "코코나", "칸나", "모에", "미야코", "미유"] },
  {"price": 16.5, "num": "C4_06150129", "chars": ["렌게", "수카모", "수카리", "이즈나", "츠쿠요", "카에데", "메루", "미노리", "시구레", "온구레", "온리노", "미네", "미카", "수미카", "사쿠라코", "세이아", "수우이", "츠루기", "카즈사", "코하루", "수나코", "히나타", "수후미", "메구", "뉴츠키", "세나", "뉴카리", "이로하", "이오리", "뉴루카", "드히나", "수노미", "뉴리카", "수로코", "호시노", "임시노", "수시노", "노아", "파노아", "리오", "마키", "미도리", "스미레", "아리스", "메리스", "바카네", "에이미", "응타하", "운유카", "카린", "코유키", "캠타마", "응토리", "히마리", "히비키", "사오리", "싸오리", "미나", "사야", "사사야", "어린슌", "코코나", "수부키", "수야코", "수사키"] },
  {"price": 13.2, "num": "C4_06281612", "chars": ["수모리", "와카모", "수카모", "이즈나", "츠쿠요", "카호", "온리노", "나츠", "미카", "클리나", "수이아", "카즈사", "코하루", "클나에", "수나코", "마코토", "뉴츠키", "이로하", "이즈미", "온나츠", "치아키", "뉴루카", "뉴우카", "히나", "드히나", "시로코", "라로코", "호시노", "수시노", "네루", "리오", "스미레", "아리스", "메리스", "바카네", "운유카", "캠타마", "히마리", "히비키", "히요리", "미나", "사야", "사사야", "키사키", "칸나", "미야코", "사키", "히카리"] },
  {"price": 1.9, "num": "C4_06281635", "chars": ["나구사", "미모리", "와카모", "수카모", "수카리", "츠쿠요", "카에데", "온도카", "메루", "시구레", "체리노", "온리노", "나기사", "나츠", "마시로", "수미카", "클리나", "수이아", "수우이", "코하루", "히나타", "수후미", "메구", "세나", "이로하", "이오리", "카스미", "하루나", "뉴루카", "뉴우카", "히나", "수노미", "뉴리카", "시로코", "라로코", "수로코", "호시노", "임시노", "마키", "메모이", "아미레", "바스나", "에이미", "응타하", "파유카", "유즈", "치히로", "코유키", "캠타마", "응토리", "히마리", "히비키", "사오리", "레이죠", "루미", "어린슌", "키사키", "칸나", "수모에", "미야코", "미유"] },
  {"price": 12.8, "num": "C5_06170624", "chars": ["렌게", "미모리", "와카모", "수카모", "카에데", "카호", "마리나", "치리나", "시구레", "온구레", "체리노", "온리노", "미카", "수이아", "아즈사", "수우이", "츠루기", "카즈사", "클나에", "수나코", "히나타", "드아루", "뉴카리", "이로하", "이오리", "온나츠", "치아키", "뉴요코", "키라라", "뉴루카", "뉴우카", "히나", "드히나", "뉴리카", "라로코", "수시노", "노아", "레이", "메도리", "아리스", "메리스", "에이미", "응타하", "치히로", "코유키", "응토리", "히마리", "아츠코", "히요리", "루미", "슌", "코코나", "수칸나", "모에", "수야코"] },
  {"price": 17.4, "num": "C6_06162127", "chars": ["와카모", "우미카", "유카리", "이즈나", "츠쿠요", "카에데", "키쿄", "수키쿄", "가피나", "온도카", "마리나", "미노리", "시구레", "체리노", "마시로", "미카", "사쿠라코", "클리나", "아즈사", "우이", "수우이", "이치카", "카즈사", "코하루", "수나코", "수스미", "마코토", "뉴츠키", "드아루", "아코", "드아코", "이로하", "이오리", "온나츠", "하루나", "체루나", "뉴루카", "뉴우카", "히나", "드히나", "임시노", "수시노", "노아", "레이", "스미레", "바스나", "응타하", "유즈", "카린", "코유키", "캠타마", "응토리", "바토키", "캠하레", "히마리", "히비키", "미사키", "사오리", "미나", "사사야", "코코나", "모에", "수야코", "미유"] },
  {"price": 21.9, "num": "C6_06202029", "chars": ["미모리", "와카모", "수카모", "츠쿠요", "체리노", "온리노", "레이사", "미네", "미카", "클리나", "세이아", "수이아", "아즈사", "수우이", "이치카", "코하루", "수나코", "히나타", "마코토", "메구", "아코", "드아코", "이오리", "이즈미", "드요코", "뉴루카", "수노미", "수리카", "시로코", "수로코", "수시노", "교네루", "노아", "리오", "마키", "스미레", "메리스", "수이미", "응타하", "코유키", "캠타마", "응토리", "바토키", "캠하레", "히마리", "히비키", "싸오리", "아츠코", "미나", "슌", "어린슌", "키사키", "모에", "미야코", "수야코", "미유", "수사키"] },
  {"price": 20.8, "num": "C8_06142102", "chars": ["미모리", "수카모", "우미카", "유카리", "츠쿠요", "카에데", "카호", "마리나", "치리나", "체리노", "나츠", "아마리", "미네", "미카", "사쿠라코", "클리나", "세이아", "아즈사", "우이", "수우이", "이치카", "코하루", "클나에", "수나코", "뉴츠키", "드아코", "이로하", "온나츠", "치아키", "뉴요코", "하루나", "뉴루카", "드히나", "수노미", "수리카", "시로코", "호시노", "임시노", "수시노", "네루", "교네루", "노아", "리오", "메도리", "스미레", "바스나", "바카네", "응타하", "운유카", "카린", "응토리", "바토키", "히마리", "히비키", "아츠코", "히요리", "사사야", "코코나", "칸나", "모에", "수야코", "미유", "수사키"] },
  {"price": 19.6, "num": "C8_06150945", "chars": ["렌게", "와카모", "카에데", "마리나", "메루", "시구레", "온구레", "나츠", "레이사", "아마리", "미카", "수미카", "사쿠라코", "클리나", "세이아", "수이아", "아즈사", "우이", "카즈사", "코하루", "수나코", "사세나", "아루", "뉴카리", "아코", "이오리", "카스미", "뉴요코", "히나", "드히나", "시로코", "라로코", "쿠로코", "임시노", "네루", "메리스", "바스나", "바카네", "에이미", "치히로", "카린", "코유키", "캠하레", "미사키", "사오리", "드오리", "루미", "사야", "슌", "어린슌", "코코나", "칸나", "수칸나", "수야코"] },
  {"price": 25.2, "num": "C8_06152120", "chars": ["카호", "메루", "나기사", "수나기", "레이사", "미네", "미카", "수미카", "사쿠라코", "클리나", "세이아", "수이아", "우이", "수우이", "츠루기", "히나타", "히후미", "수후미", "뉴츠키", "아루", "드아루", "뉴아루", "아코", "이오리", "온나츠", "카스미", "하루나", "드히나", "뉴리카", "시로코", "라로코", "쿠로코", "임시노", "수시노", "노아", "메모이", "미도리", "아리스", "에이미", "수이미", "카린", "코유키", "바토키", "캠하레", "사오리", "레이죠", "사야", "슌", "코코나", "미야코", "수사키"] },
  {"price": 7.5, "num": "S1_11070917", "chars": ["렌게", "수모리", "와카모", "수카모", "우미카", "수즈나", "가바키", "카에데", "키쿄", "온리노", "밴나츠", "레이사", "미네", "미카", "수미카", "아즈사", "수즈사", "이치카", "카즈사", "수나코", "히나타", "수후미", "메구", "세나", "아루", "아코", "이로하", "이오리", "이즈미", "온나츠", "뉴루카", "히나", "드히나", "수노미", "뉴리카", "수리카", "시로코", "라로코", "수로코", "교네루", "스미레", "바카네", "에이미", "응타하", "운유카", "유즈", "카린", "코유키", "히마리", "히비키", "히요리", "루미", "미나", "슌", "칸나", "수칸나", "수모에", "미야코", "수야코"] },
  {"price": 8.1, "num": "S1_11080800", "chars": ["렌게", "미모리", "와카모", "수즈나", "츠쿠요", "수치세", "카에데", "카호", "마리나", "미노리", "시구레", "치모에", "나츠", "마시로", "미카", "세이아", "수즈사", "우이", "이치카", "클나에", "수나코", "히후미", "수후미", "마코토", "아루", "아코", "드아코", "이로하", "이오리", "뉴요코", "하루나", "수노미", "뉴리카", "수로코", "수시노", "노아", "파노아", "마키", "미도리", "스미레", "바카네", "수이미", "치히로", "카린", "응토리", "바토키", "사오리", "드오리", "싸오리", "히요리", "미나", "사사야", "슌", "코코나", "키사키", "모에", "미유", "수사키"] },
  {"price": 34.9, "num": "S1_11140628", "chars": ["나구사", "미모리", "수모리", "와카모", "츠쿠요", "카에데", "가피나", "온도카", "마리나", "체리노", "나츠", "아마리", "미카", "수미카", "클리나", "세이아", "수이아", "아즈사", "수즈사", "우이", "이치카", "카즈사", "클나에", "수나코", "히후미", "뉴츠키", "사츠키", "사세나", "아루", "뉴카리", "아코", "이로하", "키라라", "드히나", "수노미", "뉴리카", "라로코", "쿠로코", "호시노", "임시노", "노아", "리오", "마키", "미도리", "메리스", "바스나", "수이미", "운유카", "파유카", "유즈", "캠타마", "응토리", "히마리", "히비키", "싸오리", "아츠코", "레이죠", "사야", "사사야", "코코나", "키사키", "칸나", "모에", "수모에", "미야코", "수야코", "히카리"] },
  {"price": 16.3, "num": "S2_11050809", "chars": ["니야", "미모리", "와카모", "우미카", "수즈나", "가바키", "츠쿠요", "온도카", "나기사", "수나기", "나츠", "레이사", "아마리", "미네", "미카", "수미카", "사쿠라코", "클리나", "세이아", "아즈사", "이치카", "코하루", "히나타", "수후미", "마코토", "세나", "아루", "아코", "이로하", "이오리", "온나츠", "뉴요코", "수노미", "수로코", "호시노", "수시노", "노아", "마키", "메도리", "스미레", "아미레", "바스나", "에이미", "응타하", "운유카", "카린", "히마리", "사오리", "사야", "슌", "어린슌", "칸나", "수사키"] },
  {"price": 6.8, "num": "S2_11051154", "chars": ["렌게", "미모리", "수모리", "와카모", "수카모", "수즈나", "츠쿠요", "카호", "키쿄", "수키쿄", "온도카", "치리나", "치모에", "미카", "아즈사", "우이", "코하루", "히나타", "히후미", "수후미", "세나", "아루", "뉴카리", "아코", "이로하", "온나츠", "뉴요코", "드히나", "수리카", "시로코", "임시노", "수시노", "교네루", "메모이", "미도리", "메도리", "아리스", "바스나", "바카네", "에이미", "운유카", "히마리", "히비키", "루미", "사야", "슌", "모에", "미야코", "수야코", "미유", "사키", "수사키"] },
  {"price": 7.4, "num": "S2_12010442", "chars": ["렌게", "미모리", "수모리", "와카모", "우미카", "유카리", "이즈나", "수즈나", "츠쿠요", "온도카", "치리나", "체리노", "나츠", "레이사", "마시로", "수우이", "수나코", "수후미", "마코토", "세나", "아루", "드아루", "아코", "이로하", "이오리", "이즈미", "온나츠", "치아키", "뉴요코", "하루나", "체루나", "히나", "드히나", "수노미", "라로코", "호시노", "임시노", "수시노", "메도리", "아리스", "수이미", "응타하", "유즈", "카린", "캠하레", "히마리", "히비키", "싸오리", "아츠코", "히요리", "사야", "슌", "수칸나", "수부키", "수모에", "미야코", "수야코", "미유"] },
  {"price": 16.9, "num": "S2_12010544", "chars": ["렌게", "미모리", "와카모", "유카리", "수즈나", "카에데", "온도카", "마리나", "시구레", "온리노", "레이사", "아마리", "마시로", "미카", "수미카", "사쿠라코", "클리나", "세이아", "수이아", "우이", "수우이", "이치카", "클나에", "수후미", "마코토", "메구", "세나", "아루", "뉴카리", "이로하", "이오리", "이즈미", "치아키", "뉴요코", "하루나", "체루나", "뉴루카", "드히나", "수노미", "라로코", "쿠로코", "호시노", "교네루", "노아", "리오", "미도리", "아리스", "바스나", "에이미", "운유카", "치히로", "카린", "코유키", "히마리", "미사키", "싸오리", "루미", "어린슌", "칸나", "수야코", "미유", "사키"] },
  {"price": 21.1, "num": "S3_11170929", "chars": ["미모리", "와카모", "수카모", "카에데", "카호", "온도카", "마리나", "치리나", "시구레", "온구레", "체리노", "온리노", "수나기", "마시로", "미네", "미카", "사쿠라코", "클리나", "세이아", "수이아", "우이", "수우이", "이치카", "코하루", "클나에", "히나타", "마코토", "메구", "뉴츠키", "아코", "이즈미", "하루나", "체루나", "뉴루카", "뉴우카", "드히나", "라로코", "수로코", "임시노", "수시노", "마키", "메도리", "스미레", "아리스", "응타하", "유즈", "치히로", "카린", "캠타마", "히비키", "싸오리", "아츠코", "히요리", "레이죠", "사야", "슌", "키사키"] },
  {"price": 11.9, "num": "S3_11232135", "chars": ["렌게", "미모리", "수모리", "수카모", "유카리", "수즈나", "츠쿠요", "카에데", "카호", "수키쿄", "온도카", "마리나", "치리나", "미노리", "온리노", "나츠", "마시로", "미네", "미카", "수미카", "클리나", "우이", "수우이", "츠루기", "카즈사", "클나에", "수나코", "수후미", "뉴츠키", "세나", "아루", "아코", "이로하", "이오리", "카스미", "뉴요코", "드히나", "수노미", "수리카", "수로코", "쿠로코", "호시노", "임시노", "네루", "노아", "메도리", "바카네", "에이미", "수이미", "운유카", "카린", "코유키", "히마리", "히비키", "미사키", "싸오리", "히요리", "미나", "사야", "슌", "어린슌", "칸나", "미야코"] },
  {"price": 19.4, "num": "S3_12010106", "chars": ["수모리", "와카모", "수카모", "우미카", "이즈나", "수즈나", "카에데", "카호", "마리나", "메루", "체리노", "온리노", "치모에", "수나기", "마시로", "미카", "수미카", "사쿠라코", "세이아", "우이", "츠루기", "히나타", "마코토", "메구", "드아루", "아코", "이로하", "이오리", "온나츠", "뉴요코", "뉴루카", "히나", "드히나", "시로코", "라로코", "호시노", "수시노", "노아", "리오", "마키", "미도리", "메도리", "스미레", "아리스", "메리스", "바스나", "에이미", "운유카", "유즈", "카린", "응토리", "캠하레", "미사키", "사오리", "히요리", "사야", "슌", "미야코", "수야코", "수사키"] },
  {"price": 31.0, "num": "S3_12010143", "chars": ["미모리", "와카모", "수카모", "츠쿠요", "카에데", "키쿄", "온리노", "나기사", "레이사", "아마리", "마시로", "미네", "미카", "수미카", "사쿠라코", "클리나", "아즈사", "우이", "수우이", "이치카", "코하루", "수나코", "히나타", "히후미", "세나", "드아루", "뉴카리", "아코", "이로하", "이즈미", "온나츠", "카스미", "드요코", "하루나", "뉴루카", "히나", "드히나", "시로코", "라로코", "수로코", "쿠로코", "호시노", "임시노", "수시노", "노아", "마키", "미도리", "아리스", "바스나", "유즈", "카린", "캠하레", "미사키", "히요리", "수요리", "미나", "사사야", "슌", "어린슌", "코코나", "칸나", "수칸나", "모에", "수모에", "미야코", "수야코", "사키"] },
  {"price": 17.3, "num": "S3_12010713", "chars": ["미모리", "우미카", "수즈나", "츠쿠요", "키쿄", "마리나", "메루", "미노리", "온구레", "수나기", "나츠", "레이사", "미네", "미카", "수미카", "사쿠라코", "클리나", "세이아", "수이아", "츠루기", "카즈사", "수나코", "히후미", "메구", "세나", "아루", "뉴카리", "이로하", "이오리", "이즈미", "치아키", "뉴요코", "체루나", "히나", "드히나", "뉴리카", "시로코", "수로코", "호시노", "임시노", "수시노", "네루", "파노아", "마키", "메도리", "스미레", "메리스", "바카네", "수이미", "운유카", "유즈", "카린", "코유키", "바토키", "히마리", "히요리", "사야", "어린슌", "키사키", "칸나", "수야코", "수사키"] },
];

let selectedChars = [];

function toggleCharacter(charName, imgElement, wrapperElement) {
    if (selectedChars.includes(charName)) {
        selectedChars = selectedChars.filter(c => c !== charName);
        imgElement.classList.remove('selected');
        wrapperElement.classList.remove('selected');
    } else {
        selectedChars.push(charName);
        imgElement.classList.add('selected');
        wrapperElement.classList.add('selected');
    }
    updateSelectedInfo();
}

function updateSelectedInfo() {
    document.getElementById('selected-count').innerText = selectedChars.length;
    const selectedList = document.getElementById('selected-list');
    selectedList.innerHTML = '';
    selectedChars.forEach(name => {
        const img = document.createElement('img');
        img.src = `/static/images/${name}.png`;
        img.title = name;
        img.onclick = function () {
            removeSelectedCharacter(name);
        };

        selectedList.appendChild(img);
    });
}

function clearSelection() {
    selectedChars = [];
    drawCharacters();
    updateSelectedInfo();
}

function drawCharacters() {
    const tierColors = {
      '0티어': 'rgb(255, 0, 255)',
      '0.5티어': 'rgb(255, 0, 0)',
      '1티어': 'rgb(255, 153, 0)',
      '2티어': 'rgb(153, 0, 255)'
    };
    const charactersDiv = document.getElementById('characters');
    charactersDiv.innerHTML = '';

    const grouped = {};
    characterData.forEach(c => {
        if (!grouped[c.grade]) grouped[c.grade] = [];
        grouped[c.grade].push(c);
    });

    const sortedTiers = Object.keys(grouped).sort((a, b) => {
        const parseTier = s => parseFloat(s.replace('티어', '')) || 0;
        return parseTier(a) - parseTier(b);
    });

    sortedTiers.forEach(tier => {
        const section = document.createElement('div');
        section.style.marginBottom = '0px';

        const title = document.createElement('div');
        title.innerText = tier;
        title.style.fontSize = '20px';
        title.style.fontWeight = 'bold';
        title.style.textAlign = 'left';
        title.style.margin = '10px 0 5px 10px';
        title.style.color = tierColors[tier] || '#000'; // 글자색
        title.style.borderLeft = `6px solid ${tierColors[tier] || '#000'}`; // 왼쪽 테두리 강조
        title.style.paddingLeft = '8px';

        


        const grid = document.createElement('div');
        grid.style.display = 'flex';
        grid.style.flexWrap = 'wrap';
        grid.style.gap = '10px';
        grid.style.justifyContent = 'center';

        grouped[tier].forEach(c => {
            const wrapper = document.createElement('div');
            wrapper.className = 'character-card';

            const img = document.createElement('img');
            img.src = `/static/images/${c.name}.png`;
            img.style.borderColor = gradeBorderColors[c.grade] || 'gray';
            img.onclick = function() {
                toggleCharacter(c.name, img, wrapper);
            };

            const nameDiv = document.createElement('div');
            nameDiv.className = 'character-name';
            nameDiv.innerText = c.name;

            const featureDiv = document.createElement('div');
            featureDiv.className = 'character-feature';
            featureDiv.innerText = c.feature;

            wrapper.appendChild(img);
            wrapper.appendChild(nameDiv);
            wrapper.appendChild(featureDiv);
            grid.appendChild(wrapper);
        });

        section.appendChild(title);
        section.appendChild(grid);
        charactersDiv.appendChild(section);
    });    
}

function renderAccounts(accountsArray) {
    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = '';

    const summaryDiv = document.getElementById('summary');
    const totalPage = Math.ceil(accountsArray.length / pageSize);
    summaryDiv.innerText = `${accountsArray.length}개의 계정을 찾았습니다 (현재 ${currentPage} 페이지, 총 ${totalPage} 페이지)`;

    const start = (currentPage - 1) * pageSize;
    const pageAccounts = accountsArray.slice(start, start + pageSize);

    pageAccounts.forEach(acc => {
        const accBox = document.createElement('div');
        accBox.className = 'account-card';

        accBox.innerHTML = `<div class="account-header">
            <button class="copy-btn" onclick="copyAccount('${acc.num}')">복사</button>
            <span class="account-num">${acc.num}</span>
            <span class="account-price">가격: ${acc.price}만</span>
            <span style="margin-left:15px; color:#34495e; font-size:15px; font-weight:600;">총 학생 ${acc.chars.length}명</span>
            <button class="copy-btn" style="background:#34495e; margin-left:auto;" onclick="openAccountModal('${acc.num}')">상세보기</button>
        </div>`;

        const charGrid = document.createElement('div');
        charGrid.className = 'character-list';

        const tierCharacterNames = characterData.map(c => c.name);
        const uniqueChars = [...new Set(acc.chars)];
        const filteredChars = uniqueChars.filter(
          name => tierCharacterNames.includes(name) || selectedChars.includes(name)
        );
        const sortedChars = sortCharactersByPriority(filteredChars);

        sortedChars.forEach(name => {
            const wrapper = document.createElement('div');
            wrapper.className = 'result-character-card';

            const img = document.createElement('img');
            img.src = `/static/images/${name}.png`;
            img.style.border = `3px solid ${gradeBorderColors[getGradeByName(name)] || 'gray'}`;

            if (selectedChars.includes(name)) {
                wrapper.style.backgroundColor = '#cfe9ff';
            }

            const nameDiv = document.createElement('div');
            nameDiv.className = 'character-name';
            nameDiv.innerText = name;

            const featureDiv = document.createElement('div');
            featureDiv.className = 'character-feature';
            featureDiv.innerText = getFeatureByName(name);

            wrapper.appendChild(img);
            wrapper.appendChild(nameDiv);
            wrapper.appendChild(featureDiv);
            charGrid.appendChild(wrapper);
        });

        accBox.appendChild(charGrid);
        resultDiv.appendChild(accBox);
    });

    const paginationDiv = document.getElementById('pagination');
    paginationDiv.innerHTML = '';
    for (let i = 1; i <= totalPage; i++) {
        const btn = document.createElement('button');
        btn.className = 'page-btn' + (i === currentPage ? ' active' : '');
        btn.innerText = i;
        btn.onclick = () => {
            currentPage = i;
            renderAccounts(currentFilteredAccounts);
            window.scrollTo({ top: document.getElementById('characters').offsetTop, behavior: 'smooth' });
        };
        paginationDiv.appendChild(btn);
    }

    renderPagination(totalPage);
}

function searchAccounts(scrollToResult = true) {
    const minPrice = parseFloat(document.getElementById('minPrice').value);
    const maxPrice = parseFloat(document.getElementById('maxPrice').value);

    document.getElementById('spinner').style.display = 'block';

    setTimeout(() => {
        document.getElementById('spinner').style.display = 'none';

        const sortOrder = document.getElementById('sortOrder').value;

        const filteredAccounts = accounts
            .filter(acc => {
                const priceValid = acc.price >= minPrice && acc.price <= maxPrice;
                const charsValid = selectedChars.every(sc => acc.chars.includes(sc));
                return priceValid && charsValid;
            })
            .sort((a, b) => {
                return sortOrder === 'asc' ? a.price - b.price : b.price - a.price;
            });

        if (filteredAccounts.length === 0) {
            alert('조건에 맞는 계정이 없습니다.');
            return;
        }

        currentPage = 1;
        currentFilteredAccounts = filteredAccounts;
        renderAccounts(filteredAccounts);
        if (scrollToResult) {
            window.scrollTo({ top: document.getElementById('summary').offsetTop, behavior: 'smooth' });
        }

    }, 300);
}

function copyAccount(accountNum) {
    const acc = currentFilteredAccounts.find(a => a.num === accountNum);
    const copyText = acc ? `${acc.num} (${acc.price}만)` : accountNum;
    navigator.clipboard.writeText(copyText)
        .then(() => alert('계정번호 복사 완료!'));
}


// ★★★ 학생 우선순위 리스트 추가 ★★★
const priorityList = [
  '수시노', '미카', '수나코', '드히나', '임시노', '쿠로코', '리오', '교네루', '수미카', '수기사', '키사키', '수로코',
  '와카모', '뉴우카', '아마리', '세이아', '수이아', '캠하레', '드아루', '코코나',
  '운유카','히카리','노조미','나기사','뉴츠키','아코','히마리','뉴요코','우이','슌','체리노','히나타',
  '수즈나', '뉴루나', '드아코', '수우이', '수요리'
];

// ★★★ 계정 데이터 정렬 함수 추가 ★★★
function sortCharactersByPriority(chars) {
  const priorityMap = {};
  priorityList.forEach((name, idx) => {
    priorityMap[name] = idx;
  });
  return chars.slice().sort((a, b) => {
    return (priorityMap[a] ?? 999) - (priorityMap[b] ?? 999);
  });
}

function getGradeByName(name) {
    const char = characterData.find(c => c.name === name);
    return char ? char.grade : '일반';
}

function getFeatureByName(name) {
    const char = characterData.find(c => c.name === name);
    return char ? char.feature : '';
}

function sortCharactersByPriority(chars) {
    const priorityList = [
        '수시노', '미카', '수나코', '드히나', '임시노', '쿠로코', '리오', '교네루', '수미카', '수기사', '키사키', '수로코',
        '와카모', '뉴우카', '아마리', '세이아', '수이아', '캠하레', '드아루', '코코나',
        '운유카','히카리','노조미','나기사','뉴츠키','아코','히마리','뉴요코','우이','슌','체리노','히나타',
        '수즈나', '뉴루나', '드아코', '수우이', '수요리'
    ];
    const priority = Object.fromEntries(priorityList.map((name, idx) => [name, idx]));
    return [...chars].sort((a, b) => (priority[a] ?? 999) - (priority[b] ?? 999));
}

function renderPagination(totalPage) {
    const paginationDiv = document.getElementById('pagination');
    paginationDiv.innerHTML = '';

    let start = Math.max(2, currentPage - 4);
    let end = Math.min(totalPage - 1, currentPage + 4);

    // 항상 1페이지는 표시
    const first = document.createElement('button');
    first.className = 'page-btn' + (currentPage === 1 ? ' active' : '');
    first.innerText = '1';
    first.onclick = () => goToPage(1);
    paginationDiv.appendChild(first);

    // 왼쪽 생략부호
    if (start > 2) {
        const dots = document.createElement('span');
        dots.className = 'page-dots';
        dots.innerText = '...';
        paginationDiv.appendChild(dots);
    }

    for (let i = start; i <= end; i++) {
        const btn = document.createElement('button');
        btn.className = 'page-btn' + (i === currentPage ? ' active' : '');
        btn.innerText = i;
        btn.onclick = () => goToPage(i);
        paginationDiv.appendChild(btn);
    }

    // 오른쪽 생략부호
    if (end < totalPage - 1) {
        const dots = document.createElement('span');
        dots.className = 'page-dots';
        dots.innerText = '...';
        paginationDiv.appendChild(dots);
    }

    // 마지막 페이지는 항상 표시
    if (totalPage > 1) {
        const last = document.createElement('button');
        last.className = 'page-btn' + (currentPage === totalPage ? ' active' : '');
        last.innerText = totalPage;
        last.onclick = () => goToPage(totalPage);
        paginationDiv.appendChild(last);
    }
}

function goToPage(page) {
    currentPage = page;
    renderAccounts(currentFilteredAccounts);
    window.scrollTo({ top: document.getElementById('characters').offsetTop, behavior: 'smooth' });
}

function openAccountModal(accountNum) {
    // 계정 데이터 찾기
    const acc = accounts.find(a => a.num === accountNum);
    if (!acc) return;

    // 계정번호, 가격, 총 학생 수 표기
    document.getElementById('modalAccountNum').innerText = `계정번호: ${accountNum}`;
    document.getElementById('modalAccountPrice').innerText = `가격: ${acc.price}만`;
    document.getElementById('modalAccountCount').innerText = `총 학생 ${acc.chars.length}명`;

    // 복사 버튼 이벤트
    const copyBtn = document.getElementById('modalCopyBtn');
    copyBtn.onclick = function() {
        const copyText = `${acc.num} (${acc.price}만)`;
        navigator.clipboard.writeText(copyText).then(() => alert('계정번호 복사 완료!'));
    };

    // 캐릭터 목록 영역
    const charWrap = document.getElementById('modalAccountChars');
    charWrap.innerHTML = '';

    // 캐릭터 우선정렬(전체), 중복제거
    const allChars = [...new Set(acc.chars)];
    const sortedChars = sortCharactersByPriority(allChars);

    sortedChars.forEach(name => {
        const wrapper = document.createElement('div');
        wrapper.className = 'result-character-card';

        const img = document.createElement('img');
        img.src = `/static/images/${name}.png`;
        img.style.border = `2px solid ${gradeBorderColors[getGradeByName(name)] || 'gray'}`;
        img.style.width = "48px";
        img.style.height = "48px";

        const nameDiv = document.createElement('div');
        nameDiv.className = 'character-name';
        nameDiv.innerText = name;
        nameDiv.style.fontSize = "13px";

        const featureDiv = document.createElement('div');
        featureDiv.className = 'character-feature';
        featureDiv.innerText = getFeatureByName(name);
        featureDiv.style.fontSize = "12px";

        wrapper.appendChild(img);
        wrapper.appendChild(nameDiv);
        wrapper.appendChild(featureDiv);
        charWrap.appendChild(wrapper);
    });

    document.getElementById('accountModal').style.display = 'flex';
}

function closeAccountModal() {
    document.getElementById('accountModal').style.display = 'none';
}

// 1. 상세검색 버튼 이벤트
document.getElementById('detailSearchBtn').onclick = function() {
    openDetailModal();
};

function openDetailModal() {
    // 2티어 이하 티어(2티어만) 학생 필터링
    const tier2Names = characterData.filter(c => c.grade === "2티어").map(c => c.name);

    // accounts 전체 학생 이름 모으기
    let allStudentSet = new Set();
    accounts.forEach(acc => acc.chars.forEach(name => allStudentSet.add(name)));
    const allStudentArr = Array.from(allStudentSet);

    // 티어표에 있는 모든 학생
    const allTierStudentSet = new Set(characterData.map(c => c.name));

    // "기타" 학생: 계정에 있는데 티어표에 없는 학생만 추출
    const etcNames = allStudentArr.filter(name => !allTierStudentSet.has(name));

    // 기타 학생 출력
    const otherCharWrap = document.getElementById('otherCharWrap');
    otherCharWrap.innerHTML = '';
    etcNames.forEach(name => {
        otherCharWrap.appendChild(makeDetailCharCard(name));
    });

    document.getElementById('detailModal').style.display = 'flex';
}

// 상세검색 캐릭터 선택 카드 생성 함수
function makeDetailCharCard(name) {
    const wrapper = document.createElement('div');
    wrapper.className = 'character-card';
    wrapper.style.width = '66px';
    wrapper.style.padding = '2px';
    wrapper.style.cursor = 'pointer';

    const img = document.createElement('img');
    img.src = `/static/images/${name}.png`;
    img.style.width = '50px';
    img.style.height = '50px';
    img.style.borderRadius = '10px';
    img.style.border = `3px solid ${gradeBorderColors[getGradeByName(name)] || '#bbb'}`;

    if (selectedChars.includes(name)) {
        wrapper.classList.add('selected');
        img.classList.add('selected');
    }

    img.onclick = function() {
        toggleCharacter(name, img, wrapper);
        // 선택 반영 후 스타일 동기화
        if (selectedChars.includes(name)) {
            wrapper.classList.add('selected');
            img.classList.add('selected');
        } else {
            wrapper.classList.remove('selected');
            img.classList.remove('selected');
        }
    };

    const nameDiv = document.createElement('div');
    nameDiv.className = 'character-name';
    nameDiv.innerText = name;
    nameDiv.style.fontSize = "12px";
    wrapper.appendChild(img);
    wrapper.appendChild(nameDiv);

    return wrapper;
}

function removeSelectedCharacter(name) {
    // 배열에서 해당 캐릭터 제거
    selectedChars = selectedChars.filter(c => c !== name);

    updateSelectedInfo();
    drawCharacters(); // 위 캐릭터 카드 선택 표시 동기화
}

// 모달 닫기 함수
function closeDetailModal() {
    document.getElementById('detailModal').style.display = 'none';
}

    
</script>

</body>
</html>